{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {"url": "https://raw.githubusercontent.com/justinchuah/3179/main/Assignment2/AQI_of_Countries.csv"},
  "transform": [{
    "filter": {"and": [
      {"field": "NO2 AQI Value", "range":[0,50]},
      {"field": "Ozone AQI Value", "valid": true}
    ]
    }
  }
  ],
  "mark": "rect",
  "width": 800,
  "height": 550,
  "background":"beige",
  "encoding": {
    "x": {
      "bin": {"maxbins":50},
      "field": "Ozone AQI Value",
      "type": "quantitative",
      "title":"Ozone AQI Value"
    },
    "y": {
      "bin": {"maxbins": 50},
      "field": "NO2 AQI Value",
      "type": "quantitative",
      "title": "NO2 AQI Value"
    },
    "color": {
      "aggregate": "count",
      "type": "quantitative",
      "scale":{
        "type": "threshold",
        "domain":[1,2,5,10,20,50]
      },
      "legend":{"values":[0,1,2,5,10,20,50]
      }
    },
    "tooltip":[
      {"field": "Ozone AQI Value", "type": "quantitative"},
      {"field": "NO2 AQI Value", "type": "quantitative"},
      {"aggregate":"count", "title":"Number of Instances"},
      ""
    ]
  },
  "config": {
    "view": {
      "stroke": "transparent"
    }
  }
}